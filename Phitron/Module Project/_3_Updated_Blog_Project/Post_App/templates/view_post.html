{% extends 'base.html' %}

{% block title %}
    {{ post.title }}
{% endblock %}

{% block content %}
    <div class="container mx-auto p-4 bg-white rounded-lg shadow-lg max-w-5xl my-8">
        <!-- Post Title -->
        <h1 class="text-3xl font-semibold text-pink-600 mb-6">{{ post.title }}</h1>

        <!-- Author, Views, and Likes -->
        <div class="flex items-center text-md text-gray-600 mb-4">
            <span class="mr-4 flex items-center">
                <svg class="inline-block h-5 w-5 text-purple-500 mr-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 20.8c-5.522 0-10-4.478-10-10S6.478.8 12 .8s10 4.478 10 10-4.478 10-10 10zm0-17a7 7 0 100 14 7 7 0 000-14z"/>
                </svg>
                <strong>Author: </strong>
                {% if post.author %}
                    <span class="text-purple-600">{{post.name}} {{ post.author.first_name }} {{ post.author.last_name }}</span>
                {% else %}
                    <span class="italic text-gray-500">Deleted User</span>
                {% endif %}
            </span>

            <span class="mr-4 flex items-center">
                <svg class="inline-block h-5 w-5 text-blue-500 mr-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 12c2.5 0 4.5-2 4.5-4.5S14.5 3 12 3 7.5 5 7.5 7.5 9.5 12 12 12z"/>
                </svg>
                <strong>{{ post.views }} views</strong>
            </span>

            <span class="flex items-center">
                <svg class="inline-block h-5 w-5 text-yellow-500 mr-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12.1 4.5a5.93 5.93 0 00-4.2 1.6 6.06 6.06 0 000 8.6L12 21l4.1-4.3a6.06 6.06 0 000-8.6 5.93 5.93 0 00-4.2-1.6z"/>
                </svg>
                <strong>{{ post.like }} likes</strong>
            </span>
        </div>

        <!-- Categories -->
        <div class="text-gray-600 mb-4">
            <strong class="text-pink-500">Categories:</strong>
            {% for category in post.categories.all %}
                <a href="{% url 'home' %}" class="text-blue-500 hover:text-blue-700 font-medium">
                    {{ category.name }}
                </a>{% if not forloop.last %}, {% endif %}
            {% empty %}
                <span class="italic text-gray-500">No categories assigned.</span>
            {% endfor %}
        </div>

        <div class="flex items-center text-md text-gray-600 mb-4">
            <!-- Icon for Date -->
            <svg class="h-5 w-5 text-purple-500 mr-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                <path d="M7 10h10v2H7v-2zm0 4h7v2H7v-2zm11-8h-1V4h-2v2H9V4H7v2H6a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V8a2 2 0 00-2-2zm0 14H6V10h12v10z"/>
            </svg>
            
            <!-- Date Display -->
            <span class="text-gray-800 font-medium">{{ post.created_at|date:"F j, Y, g:i a" }}</span>
        </div>
        

        <!-- Post Content -->
        <div class="bg-gray-100 p-6 rounded-lg mt-6 text-lg text-gray-700 shadow-inner overflow-auto max-h-auto">
            <pre class="whitespace-pre-wrap">{{ post.content }}</pre> 
        </div>
        
    </div>
{% endblock %}
